<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_11) on Thu Nov 06 09:50:54 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ServerCommunication</title>
<meta name="date" content="2014-11-06">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ServerCommunication";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":9,"i3":9,"i4":10,"i5":10,"i6":9,"i7":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServerCommunication.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.ServerCommunicationHolder.html" title="class in org.fhnw.aigs.server.communication"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/fhnw/aigs/server/communication/ServerCommunication.html" target="_top">Frames</a></li>
<li><a href="ServerCommunication.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.fhnw.aigs.server.communication</div>
<h2 title="Class ServerCommunication" class="title">Class ServerCommunication</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.fhnw.aigs.server.communication.ServerCommunication</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ServerCommunication</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">This class is responsible for the outgoing connections. It connects the
 server to the clients. Due to the fact that the class uses the Singleton
 Pattern, it is not possible to instantiate ClientCommunication directly. In
 order to get to an instance, use <a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#getInstance--"><code>getInstance()</code></a>
 instead.<br>
 v1.0 Initial release<br>
 v1.1 Functional changes</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.1 (Raphael Stoeckli, 01.08.2014)</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Matthias St√∂ckli (v1.0)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.ServerCommunicationHolder.html" title="class in org.fhnw.aigs.server.communication">ServerCommunication.ServerCommunicationHolder</a></span></code>
<div class="block">Provides a container for the ServerCommunication singleton</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.ArrayList&lt;java.net.Socket&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#clientSockets">clientSockets</a></span></code>
<div class="block">The client (sockets) which are registered.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#runState">runState</a></span></code>
<div class="block">The running state of the current instance</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.net.ServerSocket</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#serverSocket">serverSocket</a></span></code>
<div class="block">The server socket which allows the server to connect to clients</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#ServerCommunication--">ServerCommunication</a></span>()</code>
<div class="block">Private constructor to prevent instantiation</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#cleanupThreads-boolean-">cleanupThreads</a></span>(boolean&nbsp;stopAll)</code>
<div class="block">Method to cleaning up the list of threads.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#establishConnection--">establishConnection</a></span>()</code>
<div class="block">This method will open new client sockets.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#getExternalIp--">getExternalIp</a></span>()</code>
<div class="block">A helper method to find out the external IP by using an external PHP
 script.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html" title="class in org.fhnw.aigs.server.communication">ServerCommunication</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#getInstance--">getInstance</a></span>()</code>
<div class="block">Gets the only instance of ClientCommunication.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#getRunState--">getRunState</a></span>()</code>
<div class="block">Gets the running state of the current instance</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#run--">run</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#setUpServerSocket--">setUpServerSocket</a></span>()</code>
<div class="block">Connects to the server using a <code>ServerSocket</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html#stop--">stop</a></span>()</code>
<div class="block">Stops the server and closes all connections</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="runState">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runState</h4>
<pre>private&nbsp;boolean runState</pre>
<div class="block">The running state of the current instance</div>
</li>
</ul>
<a name="serverSocket">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serverSocket</h4>
<pre>private static&nbsp;java.net.ServerSocket serverSocket</pre>
<div class="block">The server socket which allows the server to connect to clients</div>
</li>
</ul>
<a name="clientSockets">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>clientSockets</h4>
<pre>private static&nbsp;java.util.ArrayList&lt;java.net.Socket&gt; clientSockets</pre>
<div class="block">The client (sockets) which are registered.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ServerCommunication--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ServerCommunication</h4>
<pre>private&nbsp;ServerCommunication()</pre>
<div class="block">Private constructor to prevent instantiation</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.html" title="class in org.fhnw.aigs.server.communication">ServerCommunication</a>&nbsp;getInstance()</pre>
<div class="block">Gets the only instance of ClientCommunication. Synchronized indicates
 that this Singleton is thread-safe.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The ServerCommunication instance</dd>
</dl>
</li>
</ul>
<a name="getRunState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRunState</h4>
<pre>public&nbsp;boolean&nbsp;getRunState()</pre>
<div class="block">Gets the running state of the current instance</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>runstate</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>v1.1</dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="stop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Stops the server and closes all connections</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>v1.1</dd>
</dl>
</li>
</ul>
<a name="cleanupThreads-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupThreads</h4>
<pre>private static&nbsp;void&nbsp;cleanupThreads(boolean&nbsp;stopAll)</pre>
<div class="block">Method to cleaning up the list of threads. Only closed clientSocket connections will be removed</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stopAll</code> - Stopps all active clientSocket connections if true</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>v1.1</dd>
</dl>
</li>
</ul>
<a name="establishConnection--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>establishConnection</h4>
<pre>private&nbsp;void&nbsp;establishConnection()</pre>
<div class="block">This method will open new client sockets. It will start new
 ServerMessageBroker Threads for every new connection that has
 successfully been established. This method will run endlessly.</div>
</li>
</ul>
<a name="setUpServerSocket--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUpServerSocket</h4>
<pre>public static&nbsp;void&nbsp;setUpServerSocket()</pre>
<div class="block">Connects to the server using a <code>ServerSocket</code>.</div>
</li>
</ul>
<a name="getExternalIp--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getExternalIp</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getExternalIp()</pre>
<div class="block">A helper method to find out the external IP by using an external PHP
 script. The script will reply the server's IP address in plain text.<br>
 The script is as follows:<br>
 <code>&lt;?php echo $_SERVER['REMOTE_ADDR']; ?&gt;</code></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The server's external IP.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServerCommunication.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.ServerCommunicationHolder.html" title="class in org.fhnw.aigs.server.communication"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/fhnw/aigs/server/communication/ServerCommunication.html" target="_top">Frames</a></li>
<li><a href="ServerCommunication.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
