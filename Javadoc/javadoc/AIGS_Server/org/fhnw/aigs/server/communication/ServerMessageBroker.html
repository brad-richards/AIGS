<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_11) on Wed Nov 05 16:10:46 CET 2014 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ServerMessageBroker</title>
<meta name="date" content="2014-11-05">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ServerMessageBroker";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServerMessageBroker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.ServerCommunicationHolder.html" title="class in org.fhnw.aigs.server.communication"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/fhnw/aigs/server/communication/ServerMessageBroker.html" target="_top">Frames</a></li>
<li><a href="ServerMessageBroker.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.fhnw.aigs.server.communication</div>
<h2 title="Class ServerMessageBroker" class="title">Class ServerMessageBroker</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.fhnw.aigs.server.communication.ServerMessageBroker</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ServerMessageBroker</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">This class is responsible for the message flow. One ServerMessageBroker is
 assigned to every client connection. The incoming messages will be parsed and
 analyzed. System messages such as <code>ClientClosedMessage</code>s will be
 handled in this class. All other messages will be forwarded to the game
 assigned to the game connected to the ServerMessageBroker.<br>
 v1.0   Initial release<br>
 v1.1   Functional changes<br>
 v1.1.1 Minor changes (due to changes in other classes)</div>
<dl>
<dt><span class="simpleTagLabel">Version:</span></dt>
<dd>1.1.1 (Raphael Stoeckli, 27.10.2014)</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Matthias St√∂ckli (v1.0)</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#connectionOpen">connectionOpen</a></span></code>
<div class="block">A flag that indicates whether the current connection is still open, this
 variable can help tracking exceptions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#currentPrettyPrintedMessage">currentPrettyPrintedMessage</a></span></code>
<div class="block">The currently received message in a human readable form.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.fhnw.aigs.commons.Game</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#game">game</a></span></code>
<div class="block">The game to which this connection is connected to.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.io.BufferedReader</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#in">in</a></span></code>
<div class="block">The BufferedReader used to read the incoming messages.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#isGameInitialized">isGameInitialized</a></span></code>
<div class="block">A flag that shows whether this game has already been initialized or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#nonGameMessageReceived">nonGameMessageReceived</a></span></code>
<div class="block">Indicates whether the currently processed message is a message which is
 not related to games, e.g. a JoinMessage etc.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private org.fhnw.aigs.commons.Player</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#player">player</a></span></code>
<div class="block">The player using this connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.net.Socket</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#socket">socket</a></span></code>
<div class="block">The socket which connects the server to the client.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#ServerMessageBroker-java.net.Socket-">ServerMessageBroker</a></span>(java.net.Socket&nbsp;socket)</code>
<div class="block">Initializes the ServerMessageBroker and sets up a <code>Socket</code>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#checkForNonGameMessages-org.fhnw.aigs.commons.communication.Message-">checkForNonGameMessages</a></span>(org.fhnw.aigs.commons.communication.Message&nbsp;parsedMessage)</code>
<div class="block">Checks the incoming messages for the following system messages:<br>
 <code>IdentificationMessage</code>
 <code>ClientClosedMessage</code>
 <code>JoinMessage</code>
 <code>KeepAliveMessage</code>
 
 The messages are then handled individually.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#extractMessageClassPath-org.xml.sax.InputSource-java.lang.String-">extractMessageClassPath</a></span>(org.xml.sax.InputSource&nbsp;inputSource,
                       java.lang.String&nbsp;inputString)</code>
<div class="block">Uses a <code>Document</code> to get the attribute "FullyQualifiedClassName"
 of a message.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private java.lang.ClassLoader</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#getClassLoader--">getClassLoader</a></span>()</code>
<div class="block">Gets the <code>ClassLoader</code> of a game.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#handleClientClosedMessage-org.fhnw.aigs.commons.communication.Message-">handleClientClosedMessage</a></span>(org.fhnw.aigs.commons.communication.Message&nbsp;parsedMessage)</code>
<div class="block">If the client closed the window (or the client was closed out of another
 reason), this method closes the connection, logs off the user and
 terminates the games he or she was in.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#handledentificationMessage-org.fhnw.aigs.commons.communication.Message-">handledentificationMessage</a></span>(org.fhnw.aigs.commons.communication.Message&nbsp;parsedMessage)</code>
<div class="block">Checks whether the <code>IdentificationMessage</code> received from a client
 is valid.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#handleJoinMessage-org.fhnw.aigs.commons.communication.Message-">handleJoinMessage</a></span>(org.fhnw.aigs.commons.communication.Message&nbsp;parsedMessage)</code>
<div class="block">Handles a join request.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#handleKeepAliveMessage-org.fhnw.aigs.commons.communication.Message-">handleKeepAliveMessage</a></span>(org.fhnw.aigs.commons.communication.Message&nbsp;parsedMessage)</code>
<div class="block">Handles the client's answers of <code>KeepAliveMessage</code>s.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#listenForMessages--">listenForMessages</a></span>()</code>
<div class="block">This method constantly listens for new inputs coming from the client.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private org.fhnw.aigs.commons.communication.Message</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#parseInput-java.lang.String-">parseInput</a></span>(java.lang.String&nbsp;inputString)</code>
<div class="block">This method parses the incoming messages.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#printMessage-java.lang.String-">printMessage</a></span>(java.lang.String&nbsp;inputString)</code>
<div class="block">Shows the received message.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#run--">run</a></span>()</code>
<div class="block">Starts the message listening loop.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="socket">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>socket</h4>
<pre>private&nbsp;java.net.Socket socket</pre>
<div class="block">The socket which connects the server to the client.</div>
</li>
</ul>
<a name="in">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>in</h4>
<pre>private&nbsp;java.io.BufferedReader in</pre>
<div class="block">The BufferedReader used to read the incoming messages.</div>
</li>
</ul>
<a name="game">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>game</h4>
<pre>private&nbsp;org.fhnw.aigs.commons.Game game</pre>
<div class="block">The game to which this connection is connected to.</div>
</li>
</ul>
<a name="player">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>player</h4>
<pre>private&nbsp;org.fhnw.aigs.commons.Player player</pre>
<div class="block">The player using this connection.</div>
</li>
</ul>
<a name="isGameInitialized">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isGameInitialized</h4>
<pre>private&nbsp;boolean isGameInitialized</pre>
<div class="block">A flag that shows whether this game has already been initialized or not.</div>
</li>
</ul>
<a name="currentPrettyPrintedMessage">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentPrettyPrintedMessage</h4>
<pre>private static&nbsp;java.lang.String currentPrettyPrintedMessage</pre>
<div class="block">The currently received message in a human readable form.</div>
</li>
</ul>
<a name="nonGameMessageReceived">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nonGameMessageReceived</h4>
<pre>private&nbsp;boolean nonGameMessageReceived</pre>
<div class="block">Indicates whether the currently processed message is a message which is
 not related to games, e.g. a JoinMessage etc.</div>
</li>
</ul>
<a name="connectionOpen">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>connectionOpen</h4>
<pre>private&nbsp;boolean connectionOpen</pre>
<div class="block">A flag that indicates whether the current connection is still open, this
 variable can help tracking exceptions.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ServerMessageBroker-java.net.Socket-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ServerMessageBroker</h4>
<pre>public&nbsp;ServerMessageBroker(java.net.Socket&nbsp;socket)
                    throws java.io.IOException</pre>
<div class="block">Initializes the ServerMessageBroker and sets up a <code>Socket</code>.<br>
 This class is responsible for parsing, interpreting and passing messages
 to the game logic (client wise). This class is the counterpart of the
 <code>ClientMessageBroker</code> on the server side.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>socket</code> - Socket which connects the client to the server.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Starts the message listening loop.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="listenForMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listenForMessages</h4>
<pre>private&nbsp;void&nbsp;listenForMessages()</pre>
<div class="block">This method constantly listens for new inputs coming from the client. The
 messages are first parsed using <a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#parseInput-java.lang.String-"><code>parseInput(java.lang.String)</code></a>
 Then the parsed messages will be handled. System messages will be handled
 by <a href="../../../../../org/fhnw/aigs/server/communication/ServerMessageBroker.html#checkForNonGameMessages-org.fhnw.aigs.commons.communication.Message-"><code>checkForNonGameMessages(org.fhnw.aigs.commons.communication.Message)</code></a>. All other
 messages are then passed to the
 <code>Game.processGameLogic(org.fhnw.aigs.commons.communication.Message, org.fhnw.aigs.commons.Player)</code> method.</div>
</li>
</ul>
<a name="parseInput-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parseInput</h4>
<pre>private&nbsp;org.fhnw.aigs.commons.communication.Message&nbsp;parseInput(java.lang.String&nbsp;inputString)</pre>
<div class="block">This method parses the incoming messages.<br>
 It first tries to create a DOMDocument in order to check whether the
 string is valid xml and to determine the message type. If the message
 cannot be parsed, the client will receive a <code>BadInputMessage</code>. If
 the parsing is successful, the respective message class is loaded via the
 game's ClassLoader, see <a href="../../../../../org/fhnw/aigs/server/gameHandling/GameLoader.html" title="class in org.fhnw.aigs.server.gameHandling"><code>GameLoader</code></a>.<br>
 In a last step, the <code>Message.parse(java.io.StringReader, java.lang.Class&lt;T&gt;)</code> method will take care of the
 parsing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inputString</code> - The message as received from the clients.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The parsed message.</dd>
</dl>
</li>
</ul>
<a name="extractMessageClassPath-org.xml.sax.InputSource-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractMessageClassPath</h4>
<pre>private&nbsp;java.lang.String&nbsp;extractMessageClassPath(org.xml.sax.InputSource&nbsp;inputSource,
                                                 java.lang.String&nbsp;inputString)</pre>
<div class="block">Uses a <code>Document</code> to get the attribute "FullyQualifiedClassName"
 of a message. The value of this attribute is inherent to every message.
 By extracting it, messages can be instantiated by using reflection.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inputSource</code> - The incoming message as an InputSource</dd>
<dd><code>inputString</code> - The incoming message as an InputString (for exception
 handling purposes only)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The value of the attribute "FullyQualifiedClassName".</dd>
</dl>
</li>
</ul>
<a name="getClassLoader--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClassLoader</h4>
<pre>private&nbsp;java.lang.ClassLoader&nbsp;getClassLoader()</pre>
<div class="block">Gets the <code>ClassLoader</code> of a game.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns the ClassLoader of a game if there is one, otherwise the
 SystemClassLoader is returned.</dd>
</dl>
</li>
</ul>
<a name="checkForNonGameMessages-org.fhnw.aigs.commons.communication.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkForNonGameMessages</h4>
<pre>private&nbsp;void&nbsp;checkForNonGameMessages(org.fhnw.aigs.commons.communication.Message&nbsp;parsedMessage)</pre>
<div class="block">Checks the incoming messages for the following system messages:<br><ul>
 <li><code>IdentificationMessage</code></li>
 <li><code>ClientClosedMessage</code></li>
 <li><code>JoinMessage</code></li>
 <li><code>KeepAliveMessage</code></li>
 </ul>
 The messages are then handled individually.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parsedMessage</code> - The parsed message.</dd>
</dl>
</li>
</ul>
<a name="handledentificationMessage-org.fhnw.aigs.commons.communication.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handledentificationMessage</h4>
<pre>private&nbsp;void&nbsp;handledentificationMessage(org.fhnw.aigs.commons.communication.Message&nbsp;parsedMessage)</pre>
<div class="block">Checks whether the <code>IdentificationMessage</code> received from a client
 is valid. Then do the necessary steps to authentificate the user.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parsedMessage</code> - </dd>
</dl>
</li>
</ul>
<a name="handleClientClosedMessage-org.fhnw.aigs.commons.communication.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleClientClosedMessage</h4>
<pre>private&nbsp;void&nbsp;handleClientClosedMessage(org.fhnw.aigs.commons.communication.Message&nbsp;parsedMessage)</pre>
<div class="block">If the client closed the window (or the client was closed out of another
 reason), this method closes the connection, logs off the user and
 terminates the games he or she was in.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parsedMessage</code> - The parsed message.</dd>
</dl>
</li>
</ul>
<a name="handleJoinMessage-org.fhnw.aigs.commons.communication.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleJoinMessage</h4>
<pre>private&nbsp;void&nbsp;handleJoinMessage(org.fhnw.aigs.commons.communication.Message&nbsp;parsedMessage)</pre>
<div class="block">Handles a join request. When a user wants to start/initialize a game, he
 or she will send a JoinMessage. The method will call
 <a href="../../../../../org/fhnw/aigs/server/gameHandling/GameManager.html#joinGame-org.fhnw.aigs.commons.communication.JoinMessage-org.fhnw.aigs.commons.Player-java.lang.String-"><code>GameManager.joinGame(org.fhnw.aigs.commons.communication.JoinMessage, org.fhnw.aigs.commons.Player, java.lang.String)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parsedMessage</code> - The <code>JoinMessage</code>.</dd>
</dl>
</li>
</ul>
<a name="handleKeepAliveMessage-org.fhnw.aigs.commons.communication.Message-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleKeepAliveMessage</h4>
<pre>private&nbsp;void&nbsp;handleKeepAliveMessage(org.fhnw.aigs.commons.communication.Message&nbsp;parsedMessage)</pre>
<div class="block">Handles the client's answers of <code>KeepAliveMessage</code>s. The response
 is simply forwarded to the <a href="../../../../../org/fhnw/aigs/server/gameHandling/KeepAliveManager.html" title="class in org.fhnw.aigs.server.gameHandling"><code>KeepAliveManager</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>parsedMessage</code> - The <code>KeepAliveMessage</code>.</dd>
</dl>
</li>
</ul>
<a name="printMessage-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>printMessage</h4>
<pre>private&nbsp;void&nbsp;printMessage(java.lang.String&nbsp;inputString)</pre>
<div class="block">Shows the received message. If the option IsCompactLoggingEnabled" is set
 to <b>True</b> in the <a href="../../../../../org/fhnw/aigs/server/gameHandling/ServerConfiguration.html" title="class in org.fhnw.aigs.server.gameHandling"><code>ServerConfiguration</code></a>, the output will be
 made on one line, otherwise it will be formatted.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inputString</code> - The string to be formatted.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ServerMessageBroker.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/fhnw/aigs/server/communication/ServerCommunication.ServerCommunicationHolder.html" title="class in org.fhnw.aigs.server.communication"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/fhnw/aigs/server/communication/ServerMessageBroker.html" target="_top">Frames</a></li>
<li><a href="ServerMessageBroker.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
